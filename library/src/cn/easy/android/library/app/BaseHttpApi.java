package cn.easy.android.library.app;import android.content.Context;import cn.easy.android.library.data.BaseConstantSet;import cn.easy.android.library.util.EvtLog;import cn.easy.android.library.util.PackageUtils;import com.loopj.android.http.AsyncHttpClient;import com.loopj.android.http.RequestParams;/** * Title: BaseHttpApi</p> * Description: api接口操作类</p> * @author lin.xr * @date 2014-6-28 下午10:29:14 */public class BaseHttpApi {	static final String TAG = "BaseHttpApi";	protected static String mApiBaseUrl = "";	private Context mContext;		public BaseHttpApi(Context context) {		mContext = context;		mApiBaseUrl = getApiRootUrl(mContext);		EvtLog.i(TAG, "api root url: " + mApiBaseUrl);	}	/**	 * 获取完整的api地址	 * 	 * @param funcUrl	 *            功能接口地址	 * @return 完整的api地址	 */	public static String fullUrl(String funcUrl) {		return mApiBaseUrl + funcUrl;	}	/**	 * 获取完整的api地址	 * 	 * @param funcUrl	 *            功能接口地址	 * @param params	 *            url参数	 * @return 完整的api地址	 */	public static String fullUrl(String funcUrl, RequestParams params) {		return getUrlWithQueryString(mApiBaseUrl + funcUrl, params);	}	/**	 * 获取拼接参数后的url地址	 * 	 * @param funcUrl	 *            功能接口地址	 * @param params	 *            url参数	 * @return 拼接参数后的url地址	 */	public static String getUrlWithQueryString(String funcUrl,			RequestParams params) {		final boolean shouldEncodeUrl = true;		return AsyncHttpClient.getUrlWithQueryString(shouldEncodeUrl, funcUrl, params);	}	private String getApiRootUrl(Context context) {		if (BaseConstantSet.USE_SERVER_MODE == BaseConstantSet.Mode.DEBUG) {			return PackageUtils.getConfigString(context,					BaseConstantSet.FIELD_META_DEBUG_ROOT_URL);		} else if (BaseConstantSet.USE_SERVER_MODE == BaseConstantSet.Mode.TEST) {			return PackageUtils.getConfigString(context,					BaseConstantSet.FIELD_META_TEST_ROOT_URL);		} else if (BaseConstantSet.USE_SERVER_MODE == BaseConstantSet.Mode.RELEASE) {			return PackageUtils.getConfigString(context,					BaseConstantSet.FIELD_META_RELEASE_ROOT_URL);		} else {			return "";		}	}}